## **LINE Bot ç¨‹å¼é‹ä½œ**

> ### **`æé†’`**
> 1. global_variable.py è£¡çš„ NGROK_URLï¼Œæ¯é–‹ä¸€æ¬¡ ngrok è¦æ‰‹å‹•æ›´æ”¹é€£çµ


> ### **`å¥åº·å°å¹«æ‰‹`**
>
> 1. [x] **åå§¿æé†’**
>    * è«‹ä¸Šå‚³ä¸€å¼µåå§¿åœ–ç‰‡
>        * é€™æ˜¯å“ªä½ï¼Ÿé§èƒŒå¥½åš´é‡ğŸ¤”
>        * æ²’æœ‰é§èƒŒğŸ¤—
>
> 2. [x] **å–æ°´æé†’** `(ä½¿ç”¨ SQL)`
>    * ğŸ”° è‹¥ä½¿ç”¨è€…å·²é–‹å•Ÿé«”é‡ç›£æ§åŠŸèƒ½ä¸¦è¨˜éŒ„é«”é‡ï¼Œæœƒè‡ªå‹•ä½¿ç”¨å…¶é«”é‡è³‡æ–™
>    * ä½¿ç”¨è€…é»é¸(ç¬¬ä¸€æ¬¡)
>        * è¼¸å…¥é«”é‡ -> æŒ‡ä»¤ "/é«”é‡ 60.2" -> float
>        * è¼¸å…¥å®¹é‡ -> æŒ‡ä»¤ "/å®¹é‡ 400" -> int
>    * ä½¿ç”¨è€…é»é¸(ä¹‹å¾Œ)
>        * ç›®å‰é£²æ°´é‡è‡ªå‹•ä»¥æ°´æ¯å®¹é‡åŠ ç¸½
>        * é”æ¨™äº†æœƒæé†’
>    * database table: Info
>        * UserID ğŸ”‘ (Text)
>        * weight (Real)
>        * drinked (Integer)
>        * cup (Integer)
>        * last_updated (Text)
>
> 3. [x] **é‹å‹•æé†’**
>    * è­·çœ¼æ“ & è¾¦å…¬å®¤é‹å‹•
>        * https://youtu.be/e6KfzPVTyRM
>        * https://youtu.be/umU1kLjvdkA
>        * https://youtu.be/KnyVWkU4I4M
>    * å±…å®¶å†¥æƒ³ & ä¼¸å±• & è‚Œè‚‰è¨“ç·´
>        * https://youtu.be/IqIo-5GNLmo
>        * https://youtu.be/g_tea8ZNk5A
>        * https://youtu.be/1f8yoFFdkcY
>
> 4. [x] **é«”é‡ç›£æ§** `(ä½¿ç”¨ SQL + matplotlib)`
>    * ğŸ”° è‹¥ä½¿ç”¨è€…å·²é–‹å•Ÿå–æ°´æé†’åŠŸèƒ½ä¸¦è¨˜éŒ„é«”é‡ï¼Œæœƒè‡ªå‹•ä½¿ç”¨å…¶é«”é‡è³‡æ–™
>    * ä½¿ç”¨è€…é»é¸(ç¬¬ä¸€æ¬¡)
>        * è¼¸å…¥é«”é‡ -> æŒ‡ä»¤ "/é«”é‡ 60.2" -> float
>    * ä½¿ç”¨è€…é»é¸(ä¹‹å¾Œ)
>        * è¼¸å‡ºè©²æœˆé«”é‡ç´€éŒ„åœ–è¡¨
>    * database table: Month
>        * UserID ğŸ”‘ (Text)
>        * timestamp (Text)
>        * day_1 (Real)
>        * ...
>        * day_31 (Real)
>
> 5. [x] **å‘¼å«æŒ‡ä»¤**
>    * é«”é‡ {é‡é‡ (kg) }
>    * å®¹é‡ {æ°´ç“¶é«”ç© (ml) }
>
> 6. [ ] **çå‹µç³»çµ±**
>


> ### **`Function`**
>
> 1. **callback** \
>    è™•ç†åœ¨èŠå¤©å®¤æ‰€ç™¼ç”Ÿçš„å„ç¨® Event
> 2. **transcribe** \
>    å°‡éŸ³æª”è½‰æ›æˆæ–‡å­—
> 3. **deal_with_text** \
>    è§£è®€æ–‡å­—ï¼Œä¸¦ä¸”å›å‚³è¨Šæ¯æ¨¡æ¿
> 4. **deal_with_command** \
>    è§£è®€æŒ‡ä»¤ (ä»¥ slash '/' é–‹é ­)ï¼Œä¸¦ä¸”å°è³‡æ–™åº«é€²è¡Œæ“ä½œ
> 5. **handle_postback** \
>    è² è²¬è™•ç†ä½¿ç”¨è€…é¸æ“‡å¾Œå›å‚³çš„è³‡è¨Š (PostbackEvent) \
>    (PostbackAction çš„ data å³æ˜¯å›å‚³è³‡è¨Šï¼Œæˆ‘å€‘å¿…éœ€ç”¨ parse_qsl å°‡ & æ‹†é–‹ä¸¦è½‰æˆå­—å…¸ï¼Œåˆ†ææ‡‰è™•ç†çš„å‹•ä½œ)
>     * é‹å‹•æé†’
> 6. **handle_something** \
>    è² è²¬è™•ç†ä½¿ç”¨è€…å›å‚³çš„è¨Šæ¯ (MessageEvent) \
>    (MessageAction çš„ text kw_arg æœƒè‡ªå‹•å¹«ä½¿ç”¨è€…å›å‚³è¨Šæ¯ï¼Œé€™æœƒå†æ¬¡è§¸ç™¼æ­¤å‡½å¼)
>     * text \
>         è™•ç†æ–‡å­—æ‰€å°æ‡‰çš„æœå‹™ (ç”± deal_with_text è™•ç†)
>     * sticker \
>         å›å‚³ç›¸åŒçš„è²¼åœ–
>     * image \
>         æ€•åœ–ç‰‡å¤ªå¤§ï¼Œæ‰€ä»¥æ¯æ¬¡åˆ‡æˆä¸€å°å¡Šå¯«å…¥æ–°çš„æš«æ™‚åœ–ç‰‡
>     * audio \
>         è™•ç†è²éŸ³æ‰€å°æ‡‰çš„æœå‹™ (ç”± transcribe è½‰è­¯)


> ### **`Bugs or Doubts`**
> 1. **Doubts - 12/22** \
> åœ¨åˆ¤æ–·é§èƒŒçš„ç¨‹å¼ hunchback.py ä¸­ï¼Œè¼¸å…¥éäººé¡çš„åœ–ç‰‡å¯èƒ½å°è‡´ Attributes Error
> - [x] Solved: å–®ç´”å›å¾©ä½¿ç”¨è€…ç„¡æ³•è™•ç†
> 2. **Doubts - 12/22**\
> åœ¨åˆ¤æ–·é§èƒŒçš„ç¨‹å¼ hunchback.py ä¸­ï¼Œresize æœ‰å¯èƒ½å°è‡´åˆ¤å®šå¤±æº–
> - [x] Solved: å°±æŒ‰åŸå¤§å°å°±å¥½ï¼Œé€Ÿåº¦æ¯”è¼ƒæ…¢æ²’é—œä¿‚ï¼Œåœ–ç‰‡è™•ç†å¾ˆæ­£å¸¸çš„
> 3. **Doubts - 12/24** \
> ç¨‹å¼ç¢¼çš„æ¶æ§‹åœ¨åŠ ä¸Š weight.py å¾Œè®Šå¾—å¾ˆé¾å¤§ (æˆ–è€…æ˜¯èªªæˆ‘å¾ä¾†æ²’å¯«éé€™éº¼å¤šè¡Œ)
> - æˆ‘å¾ˆæ…¶å¹¸å®ƒæ˜¯å¯ä»¥é‹ä½œçš„ï¼Œä½†æˆ‘èªç‚ºé€™æœƒè®“ç¨‹å¼ç¢¼è¶Šä¾†è¶Šé›£ä»¥ç¶­è­·ï¼Œ\
>   æˆ‘èªç‚ºæˆ‘æ˜¯ä½¿ç”¨å¾ˆç²—ç³™çš„æ–¹å¼åœ¨ä½¿ç”¨ databaseï¼Œé€™ä¹Ÿå¯èƒ½å°è‡´ç¨‹å¼é‹ä½œè®Šæ…¢ã€‚
> 4. **Doubts - 12/25** \
> åŸå…ˆçš„ SQLite æŒ‡ä»¤ä½¿ç”¨ f-string å¯èƒ½å°è‡´ SQL injection attack
> - [x] Solved: å…¨é¢æ”¹ç”¨ DB-APIâ€™s parameter substitution